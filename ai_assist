<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TodoTask Pro ‚Äì AI Assist Room</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;500;700&display=swap" rel="stylesheet">
<style>
:root {
  --accent:#e0c097;
  --bg-light:#faf8f5;
  --bg-dark:#1f1f1f;
  --card-light:#fff;
  --card-dark:#2a2a2a;
}
body {
  font-family:'Sarabun',sans-serif;
  background:var(--bg-light);
  color:#333;
  margin:0;
  transition:0.4s;
}
body.dark {background:var(--bg-dark);color:#f5f5f5;}
header{text-align:center;padding:20px;}
header h1{color:var(--accent);margin:0;}
.container{
  max-width:800px;
  margin:auto;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:25px;
}
.card{
  background:var(--card-light);
  border:1px solid var(--accent);
  border-radius:15px;
  padding:20px;
  box-shadow:0 2px 8px rgba(0,0,0,0.05);
}
body.dark .card{background:var(--card-dark);}
h3{color:var(--accent);}
.chart{
  width:100%;
  height:200px;
}
button{
  background:var(--accent);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:10px 15px;
  cursor:pointer;
  transition:0.3s;
}
button:hover{transform:scale(1.05);}
.ai-box{
  background:rgba(224,192,151,0.1);
  border-left:4px solid var(--accent);
  padding:10px 15px;
  border-radius:8px;
  font-style:italic;
}
</style>
</head>
<body>
<header>
  <h1>ü§ñ AI Assist Room</h1>
  <p id="motivation"></p>
</header>

<div class="container">
  <div class="card">
    <h3>üß† AI Mood Tracker</h3>
    <p id="moodText">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...</p>
  </div>

  <div class="card">
    <h3>üìä Energy Graph</h3>
    <canvas id="energyChart" class="chart"></canvas>
  </div>

  <div class="card">
    <h3>üóìÔ∏è Smart Daily Plan</h3>
    <div id="dailyPlan"></div>
  </div>

  <div class="card">
    <h3>üí¨ AI ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</h3>
    <div id="aiAdvice" class="ai-box"></div>
  </div>

  <button onclick="location.href='dashboard.html'">üìä ‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module">
import {initializeApp} from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import {getFirestore,collection,getDocs} from "https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js";

const firebaseConfig={
  apiKey:"AIzaSyB_7tyj_BAyFzKEYVrZXfQjWCUXGS7VqKY",
  authDomain:"my-todo-list-9d2fa.firebaseapp.com",
  projectId:"my-todo-list-9d2fa"
};
const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

// üß† ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à
const quotes=[
  "‚Äú‡∏ó‡∏∏‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏µ‡∏Å‡∏Å‡πâ‡∏≤‡∏ß‡∏™‡∏π‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏¢‡∏¥‡πà‡∏á‡πÉ‡∏´‡∏ç‡πà‚Äù",
  "‚Äú‡∏û‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏£‡∏á‡∏ú‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‚Äù",
  "‚Äú‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πâ‡∏à‡∏£‡∏¥‡∏á‚Äù",
  "‚Äú‡∏≠‡∏¢‡πà‡∏≤‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£ ‡πÅ‡∏Ç‡πà‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏Å‡πá‡∏û‡∏≠‚Äù"
];
document.getElementById('motivation').textContent=quotes[Math.floor(Math.random()*quotes.length)];

// üìä ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
async function analyzeTasks(){
  const snapshot=await getDocs(collection(db,"tasks"));
  const tasks=snapshot.docs.map(d=>d.data());
  const completed=tasks.filter(t=>t.completed).length;
  const total=tasks.length;
  const percent=Math.round((completed/total)*100)||0;
  const mood=document.getElementById('moodText');
  if(percent>80)mood.textContent="üåü ‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î! ‡∏û‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏∞‡∏•‡∏∏‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß";
  else if(percent>50)mood.textContent="üí™ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏ß‡πâ!";
  else mood.textContent="üßò ‡∏û‡∏±‡∏Å‡∏ö‡πâ‡∏≤‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏∏‡∏¢‡∏ï‡πà‡∏≠";

  // ‡∏Å‡∏£‡∏≤‡∏ü‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á
  const ctx=document.getElementById('energyChart');
  new Chart(ctx,{
    type:'line',
    data:{
      labels:['‡∏à.', '‡∏≠.', '‡∏û.', '‡∏û‡∏§.', '‡∏®.', '‡∏™.', '‡∏≠‡∏≤.'],
      datasets:[{
        label:'‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô (%)',
        data:[30,45,60,70,55,80,90],
        borderColor:'rgba(224,192,151,1)',
        backgroundColor:'rgba(224,192,151,0.2)',
        fill:true,
        tension:0.4
      }]
    },
    options:{scales:{y:{beginAtZero:true,max:100}}}
  });

  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
  const planDiv=document.getElementById('dailyPlan');
  const now=new Date();
  const hours=now.getHours();
  let suggestion="";
  if(hours<10)suggestion="‚òÄÔ∏è ‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡∏™‡∏π‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô / ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏á‡∏≤‡∏ô";
  else if(hours<15)suggestion="üå§ ‡∏ä‡πà‡∏ß‡∏á‡∏ö‡πà‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå";
  else suggestion="üåô ‡∏ï‡∏≠‡∏ô‡πÄ‡∏¢‡πá‡∏ô‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏á‡∏≤‡∏ô";
  planDiv.innerHTML=`
    <ul>
      <li>${suggestion}</li>
      <li>üßò ‡∏•‡∏≠‡∏á‡∏û‡∏±‡∏Å‡∏™‡∏≤‡∏¢‡∏ï‡∏≤ 5 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</li>
      <li>üíß ‡∏î‡∏∑‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏•‡∏±‡∏á‡∏™‡∏°‡∏≠‡∏á</li>
      <li>üéØ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏°‡∏≠</li>
    </ul>
  `;

  // ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ AI ‡πÅ‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°
  const advices=[
    "üí° ‡∏•‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏û‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á",
    "üî• ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ú‡∏•‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏°‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î",
    "üåô ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢ ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î Galaxy ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ü‡∏∑‡πâ‡∏ô‡∏û‡∏•‡∏±‡∏á",
    "‚ö° ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏¥‡πä‡∏Å‡∏ß‡πà‡∏≤‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° XP ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á"
  ];
  document.getElementById('aiAdvice').textContent=advices[Math.floor(Math.random()*advices.length)];
}
analyzeTasks();
</script>
</body>
</html>
