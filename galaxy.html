<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TodoTask Pro ‚Äì Galaxy Room</title>
<link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;500;700&display=swap" rel="stylesheet">

<style>
:root {
  --accent: #e0c097;
  --bg-light: #faf8f5;
  --bg-dark: #0e0e10;
}
body {
  font-family: 'Sarabun', sans-serif;
  margin: 0;
  height: 100vh;
  overflow: hidden;
  background: var(--bg-light);
  color: #444;
  transition: background 2s ease;
}
body.dark {
  background: radial-gradient(circle at center, #1a1a1f 0%, #050509 100%);
  color: #f5f5f5;
}

/* Canvas Background */
#galaxyCanvas {
  position: absolute;
  inset: 0;
  z-index: 0;
}

/* Header */
header {
  position: relative;
  text-align: center;
  padding: 20px;
  z-index: 2;
}
header h1 {
  font-weight: 600;
  color: var(--accent);
  margin-bottom: 5px;
}
header p {
  font-size: 14px;
  opacity: 0.8;
}

/* XP Orb */
.xp-orb {
  position: relative;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  margin: 60px auto;
  background: radial-gradient(circle, var(--accent) 0%, #d0b486 60%, transparent 80%);
  box-shadow: 0 0 40px rgba(224,192,151,0.8);
  animation: pulse 3s infinite;
}
@keyframes pulse {
  0%,100% { transform: scale(1); box-shadow: 0 0 40px rgba(224,192,151,0.8); }
  50% { transform: scale(1.05); box-shadow: 0 0 80px rgba(224,192,151,1); }
}

/* Energy Meter */
.energy-container {
  width: 80%;
  max-width: 400px;
  margin: 20px auto;
  background: rgba(255,255,255,0.1);
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--accent);
}
.energy-fill {
  height: 16px;
  background: var(--accent);
  width: 0%;
  transition: width 1s ease;
}

/* Daily Quest */
.quests {
  text-align: center;
  z-index: 2;
  position: relative;
}
.quest {
  display: inline-block;
  margin: 10px;
  padding: 10px 20px;
  border: 1px solid var(--accent);
  border-radius: 20px;
  cursor: pointer;
  transition: 0.3s;
}
.quest:hover {
  background: var(--accent);
  color: #fff;
}

/* Buttons */
.controls {
  position: absolute;
  bottom: 20px;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 15px;
  z-index: 3;
}
button {
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: 50px;
  padding: 10px 18px;
  cursor: pointer;
  transition: 0.3s;
}
button:hover { transform: scale(1.1); }

</style>
</head>
<body>
<canvas id="galaxyCanvas"></canvas>

<header>
  <h1>üåå Galaxy Room</h1>
  <p>‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡πÉ‡∏´‡πâ‡∏™‡∏á‡∏ö ‡πÅ‡∏•‡πâ‡∏ß‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</p>
</header>

<div class="xp-orb" id="xpOrb"></div>

<div class="energy-container">
  <div class="energy-fill" id="energyFill"></div>
</div>

<div class="quests" id="quests">
  <div class="quest" onclick="gainXP(10)">ü™ô ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à</div>
  <div class="quest" onclick="gainXP(15)">üìñ ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
  <div class="quest" onclick="gainXP(20)">üí§ ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠</div>
</div>

<div class="controls">
  <button onclick="toggleTheme()">üåó ‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</button>
  <button onclick="toggleMusic()">üéµ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
  <button onclick="location.href='dashboard.html'">üìä ‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</button>
</div>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_3b49a7dd12.mp3?filename=soft-ambient-110118.mp3" type="audio/mpeg">
</audio>

<script>
const canvas = document.getElementById('galaxyCanvas');
const ctx = canvas.getContext('2d');
let stars = [];
let w,h;
function resize() {
  w = canvas.width = innerWidth;
  h = canvas.height = innerHeight;
  stars = Array(150).fill().map(() => ({
    x: Math.random()*w,
    y: Math.random()*h,
    r: Math.random()*2,
    d: Math.random()*0.5+0.2
  }));
}
function draw() {
  ctx.clearRect(0,0,w,h);
  ctx.fillStyle = 'rgba(255,255,255,0.8)';
  stars.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
    s.y += s.d;
    if (s.y > h) s.y = 0;
  });
  requestAnimationFrame(draw);
}
resize();
draw();
addEventListener('resize', resize);

let energy = 0;
const fill = document.getElementById("energyFill");
const orb = document.getElementById("xpOrb");
const music = document.getElementById("bgMusic");

function gainXP(amount){
  energy = Math.min(100, energy + amount);
  fill.style.width = energy + "%";
  orb.style.boxShadow = `0 0 ${40 + energy/2}px rgba(224,192,151,1)`;
  if(energy === 100){ playLevelUp(); }
}

function playLevelUp(){
  const synth = new AudioContext();
  const o = synth.createOscillator();
  const g = synth.createGain();
  o.connect(g).connect(synth.destination);
  o.type = 'sine';
  o.frequency.value = 880;
  o.start();
  g.gain.exponentialRampToValueAtTime(0.0001, synth.currentTime + 1);
  alert("üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏≠‡∏±‡∏õ‡πÅ‡∏•‡πâ‡∏ß!");
}

function toggleTheme(){
  document.body.classList.toggle('dark');
}

function toggleMusic(){
  if(music.paused){ music.play(); } else { music.pause(); }
}
</script>
</body>
</html>
